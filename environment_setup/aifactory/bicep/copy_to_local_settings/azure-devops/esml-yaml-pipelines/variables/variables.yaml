variables:
  # ============================================================================
  # #### DO NOT TOUCH ####
  # ============================================================================
  admin_ip_fw: "" # Leave this. Will be set by pipeline
  aifactory_salt_random: "" # 10 characters. Based on "User created Managed Identity". It is a unique random value. This '19x2858d4a' in that: 'mi-aca-prj001-sdc-dev-abcde19x2858d4a-001'
  # ============================================================================
  # #### END - DO NOT TOUCH####
  # ============================================================================

  # ============================================================f================  
  # MANDATORY(CHANGE ONCE) - UPDATING submodule RELEASE version
  # If you want to upgrade the AIFactory (Long Term Support branches exists)
  # E.g. if you go from submodule RELEASE_BRANCH_120_LTS to RELEASE_BRANCH_121_LTS your AIFactory will be upgraded to 1.21 (add new private dns zones, etc)
  # ============================================================================
  aifactory_version_major: "1" # Major version of AI Factory. Used to determine which bicep files to use. 1, 2, etc.
  aifactory_version_minor: "24" # Minor version. 2025-05-23: 20_LTS, 2025-09-20: 23
  aifactory_branch_chosen: "release/v1.24"
  # ============================================================================
  # MANDATORY(CHANGE RARELY) per AI Factory scaleset
  # ============================================================================
  tag_costceter_common: '9999'
  tag_repository: 'aifactory' # Repository name
  tag_repository_branch: 'aifactory-001' # Can be per AI Factory scaleset 'aifactory-001' or 'aifactory-002', or per scaleset and project 'aifactory-001/project001-main'
  tags: '{"CostCenter":"$(tag_costceter_common)","Description":"AI Factory common","AIF-Repo":"$(tag_repository)","AIF-Branch":"$(tag_repository_branch)","AIF-Version":"$(aifactory_version_major).$(aifactory_version_minor)","AIF-Submodule-Chosen-Branch":"$(aifactory_branch_chosen)","AIF-Scaleset":"$(admin_aifactorySuffixRG)","AIF-Environment":"$(dev_test_prod)","AIF-Project Owners":"$(technical_admins_email)","AIFactory project":"$(project_number_000)","AIF-Networking":"$(allowPublicAccessWhenBehindVnet),$(enablePublicGenAIAccess),$(enablePublicAccessWithPerimeter)","AIF-enableAIFactoryCreatedDefaultProjectForAIFv2":"$(enableAIFactoryCreatedDefaultProjectForAIFv2)","AIF-disableAgentNetworkInjection":"$(disableAgentNetworkInjection)","AIF-byoASEv3":"$(byoASEv3)","AIF-BYO_subnets":"$(BYO_subnets)"}'

  admin_location: "eastus2"
  admin_locationSuffix: "eus2"
  admin_aiSearchTier: "basic" # free is not allowed if private endpoints ['free', 'basic', 'standard', 'standard2', 'standard3', 'storage_optimized_l1', 'storage_optimized_l2']
  admin_semanticSearchTier: "free" # ['disabled', 'free', 'standard']
  admin_aifactoryPrefixRG: "mrvel-1-" # Max 6 characters. <company>-<aifactoryname-> Examples: ["acme-ai-", "mrvel-1-", "contoso-", "ms-ai-"]
  
  # CMK (Customer Managed Key) REQUIREMENTS when enabled (cmk=true) on Seeding Keyvault: dev_admin_bicep_kv_fw, test_admin_bicep_kv_fw, prod_admin_bicep_kv_fw
  # - Key Vault MUST have enableSoftDelete=true and enablePurgeProtection=true (see admin_keyvaultSoftDeleteDays below)
  # - Key Vault firewall MUST allow trusted Microsoft services (bypass: AzureServices) - already configured
  # - Managed identities MUST have Key Vault Crypto Service Encryption User role (get key, wrap key, unwrap key permissions)
  # - Only RSA and RSA-HSM keys of size 2048 are supported
  # - If you use the Key Vault firewall, you must allow trusted Microsoft services to access the Azure Key Vault.
  # - The AI Factory will grant your Microsoft Foundry resource and project system-assigned managed identity the following permissions on your key vault: get key, wrap key, unwrap key.
  # - Only RSA and RSA-HSM keys of size 2048 are supported.
  cmk: "false" # Enable Customer Managed Keys (CMK) for Storage Accounts, AI Services, etc. Requires container registry to be Premium SKU.
  cmkKeyName: "esml-cmk-key" # Common key name for all services in this environment

  # SEEDING KEYVAULT: One global (same values for all tripples), or one per environment (different values for dev,test,prod)
  dev_admin_bicep_input_keyvault_subscription: "TODO_SubID" # seeding keuvyalt, subscription id
  dev_admin_bicep_kv_fw_rg: "TODO_ResourceGroup_DEV" # Resource Group name for seeding Keyvault
  dev_admin_bicep_kv_fw: "TODO_Name_Dev" # Keyvault name. Purpose: to store secrets with names mapped to PROJECT_SERVICE_PRINCIPAL_KV_S_NAME_APPID,...
  
  test_admin_bicep_input_keyvault_subscription: "TODO_SubID" # seeding keuvyalt, subscription id
  test_admin_bicep_kv_fw_rg: "TODO_ResourceGroup_Test" # Resource Group name for seeding Keyvault
  test_admin_bicep_kv_fw: "TODO_Name_Test" # Keyvault name. Purpose: to store secrets with names mapped to PROJECT_SERVICE_PRINCIPAL_KV_S_NAME_APPID,...
  
  prod_admin_bicep_input_keyvault_subscription: "TODO_SubID" # seeding keuvyalt, subscription id
  prod_admin_bicep_kv_fw_rg: "TODO_ResourceGroup_Prod" # Resource Group name for seeding Keyvault
  prod_admin_bicep_kv_fw: "TODO_Name_Prod" # Keyvault name. Purpose: to store secrets with names mapped to PROJECT_SERVICE_PRINCIPAL_KV_S_NAME_APPID,...
  # ===========================================================================
  useCommonACR: true # Use common Azure Container Registry (save cost), instead of each project having its own.
  admin_hybridBenefit: "true"
  admin_keyvaultSoftDeleteDays: 7 # 90 days is default. 7 lowest. 0 is disabled. 90 days is recommended. NOTE: When CMK is enabled, purge protection is REQUIRED.
  azure_machinelearning_sp_oid: "TODO_ObjectID" # Azure Machine Learning service principle Object ID. Find it in Entra ID called "Azure Machine Learning" with AppId:0736f41a-0425-4b46-bdb5-1563eff02385
  use_ad_groups: "true" # true, use AD groups for project members & advanced Personas. false, use individual ObjectID's and simple mode Personas
  enableAMPLS: "false" # true, then AMPLS will be created in Hub subscription, AppInsights will be added, in private/private mode.
  # ============================================================================
  # OPTIONALLY (CHANGE ONCE) - Naming convention, on resource group
  # if projectPrefix='' and projectSuffix='' then mrvel-1-project001-eus2-dev-008
  # if projectPrefix='esml-' and projectSuffix='-rg' then mrvel-1-esml-project001-eus2-dev-008-rg
  # ============================================================================
  projectPrefix: 'esml-' # default: esml-
  projectSuffix: '-rg' # default: -rg

  # ============================================================================
  # MANDATORY(CHANGE ONCE):BASE PARAMETERS: v1.22 updates: Moved from .json to this YAML
  # ============================================================================
  vnetNameBase: "vnt-esmlcmn" # If not using BYOvNet, the base name of the common vNet
  vnetResourceGroupBase: "esml-common" # If not using BYOvNet, the base name of the common vNet's resource group
  common_subnet_name: "snet-esml-cmn-001" # Optional, to customize subnet name for common resources
  commonLakeNamePrefixMax8chars: "mrvel"
  lakeContainerName: "lake3"
  adminUsername: "esmladmin"
  # Standalone AI Factory, or centralized private DNS zones by Azure Policy in Hub.
  centralDnsZoneByPolicyInHub: "false" # false, will automatically "create if not exists" private dns zones in each spoke resource group. true, will use central private dns zones in HUB resource group, created by Azure Policy.
  privDnsSubscription_param: "TODO_SubID"
  privDnsResourceGroup_param: "TODO_rg_name"
  tenantId: "TODO_tenantId"
  databricksOID: "TODO_ObjectID"
  databricksPrivate: "false"
  AMLStudioUIPrivate: "true"
  inputCommonSPIDKey: "esml-common-sp-id"
  inputCommonSPSecretKey: "esml-common-sp-secret"
  commonServicePrincipleOIDKey: "esml-common-sp-oid"
   
  # ============================================================================
  # MANDATORY(CHANGE ONCE): Azure Devops
  # ============================================================================
  # Azure DevOps - Service Connections for task subscription
  dev_service_connection: "todo_ado_service_connection" # Name of service connection for DEV Azure subscription
  test_service_connection: "todo_ado_service_connection" # Name of service connection TEST Azure subscription
  prod_service_connection: "todo_ado_service_connection" # Name of service connection PROD Azure subscription
  # Azure DevOps - Service Connections for seeding keyvault, that may be in another subscription
  dev_seeding_kv_service_connection: "todo_ado_service_connection" # Name of service connection for DEV Azure subscription where the seeding keuvauly resides. May be same as: dev_service_connection
  test_seeding_kv_service_connection: "todo_ado_service_connection" # Name of service connection for TEST Azure subscription. May be same as: test_service_connection
  prod_seeding_kv_service_connection: "todo_ado_service_connection" # Name of service connection for PROD Azure subscription. May be same as: prod_service_connection
  # ============================================================================
  # MANDATORY(CHANGE RARELY):NETWORKING: Networking modes
  #  [false, false, false ] = private UI with private backend. No public IP (Bastion host + VM, Azure VPN, Peering). No VNet
  #  [true, true, false ]  = public UI for IP whitelisted devices, with private backend. Selected virtual network.
  #  [true, true, true ]   = public UI with private backend. Public Network
  # ============================================================================
  enablePublicGenAIAccess: "false"
  allowPublicAccessWhenBehindVnet: "false"
  enablePublicAccessWithPerimeter: "false"

  # ============================================================================
  # MANDATORY(CHANGE RARELY):RBAC restrictions
  # ============================================================================
  disableContributorAccessForUsers: "false"
  disableRBACAdminOnRGForUsers: "false"
  # ============================================================================
  # MANDATORY(CHANGE RARELY):Client Access: Services to be added to deployment. CreateIfNotExists logic
  # ============================================================================
  addBastionHost: "false" # COMMON resource group
  enableAdminVM: "false" # COMMON resource group
  # ============================================================================
  # MANDATORY(CHANGE RARELY):Diagnostics - on all resources.
  # ============================================================================
  diagnosticSettingLevel: "gold" # gold, silver, bronze where gold has most info
  # ============================================================================

  # ============================================================================
  # MANDATORY(CHANGE RARELY): AI Factory scale set.
  # WHAT: 
  # - If you want to have a new AIFactory subscription & vNet per team/dept/project
  # - If you want to have multiple AIFactory's in same regions, multiple projects for team
  # More info: https://github.com/jostrm/azure-enterprise-scale-ml/blob/main/documentation/v2/10_index.md#40-faq
  # ============================================================================
  admin_aifactorySuffixRG: "-001" #<-XXX> Change for AIFactory scale set, or if you have mutliple AIFactory's in same regions: Examples: ["-001", "-002", "-003"]
  # ============================================================================
  # MANDATORY(CHANGE RARELY): Environments: Dev, Stage, Prod per AI Factory scaleset
  # ============================================================================
  dev_sub_id: "TODO_SubID" # SubscriptionID dev
  test_sub_id: "TODO_SubID" # SubscriptionID test
  prod_sub_id: "TODO_SubID" # SubscriptionID prod
  # ============================================================================
  # MANDATORY(CHANGE RARELY): Networking per environment and AI Factory scaleset
  # ============================================================================
      # NOTE: When supplying an agent subnet, the AI Foundry Account will automatically create a capability host for the agent service.
      # NB! In that case, Provided subnet must be in address space in the range of 172.16.0.0/12 or 192.168.0.0/16 (class B or C). And delegated to: Microsoft.App/environment
      # - Read more about Agent Network Injection, and known limitations: https://learn.microsoft.com/en-us/azure/ai-foundry/agents/how-to/virtual-networks?WT.mc_id=Portal-Microsoft_Azure_ProjectOxford
      # 10.x.x.x (/8) is heavily used for IoT and machine learning (e.g., HVAC, AV, VoIP, ML-clusters)
        # Example vnet 10.16.0.0/16 with subets [10.XX.0.0/20,172.XX.16.0/20,10.XX.32.0/25,10.XX.33.0/26]
      # 172.x.x.x (/12)is often used for hosted systems and backend platforms, especially in Azure and hybrid setups
        # Example vnet 172.16.0.0/16 with subets [172.16.XX.0/26,172.16.XX.64/26,172.16.XX.128/26,172.16.XX.192/26]
      # 192.x.x.x  (/16) is less commonly used in large-scale Azure deployments due to its smaller address space.
      # WAF AI Factory Recommended: 172.16.0.0/16
      # Don't use the 172.17.0.0/16 IP address range for your virtual network. This range is the default subnet range used by the Docker bridge network on-premises.
  common_vnet_cidr: "172.16.0.0/16"

  common_subnet_cidr: "172.16.XX.0/26"
  common_subnet_scoring_cidr: "172.16.XX.64/26"
  
  common_pbi_subnet_name: "snet-esml-cmn-pbi-001"
  common_pbi_subnet_cidr: "172.16.XX.128/26"
  
  common_bastion_subnet_name: "AzureBastionSubnet"
  common_bastion_subnet_cidr: "172.16.XX.192/26"

  # If vnet (common_vnet_cidr) of size /16 you may have subnets (such as common_subnet_cidr) within: 0–255
  # If vnet of size /18 you may have subnets within: 0–63
  # If vnet of size /19 you may have subnets within: 0–31
  # If vnet of size /20 you may have subnets within: 0–15
  dev_cidr_range: "61" # CIDR range (1)  for each environment vNet, that will replace XX in the CIDR template: 172.16.XX.0/24
  test_cidr_range: "62" # CIDR range (5)  for each environment vNet, that will replace XX in the CIDR template: 172.16.XX.0/24
  prod_cidr_range: "63" # CIDR range (10)  for each environment vNet, that will replace XX in the CIDR template: 172.16.XX.0/24

## ============================================================================
## START - FOR EACH PROJECT (MANDATORY), PRE SETUP
## ============================================================================
  project_service_principal_AppID_seeding_kv_name: "esml-project001-sp-id" # Service principle ID, name from seeding keuvalt (need to be from enterprise application)
  project_service_principal_OID_seeding_kv_name: "esml-project001-sp-oid" # Service principle Object ID, name from seeding keuvalt (need to be from enterprise application)
  project_service_principal_Secret_seeding_kv_name: "esml-project001-sp-secret" # Service principle secret, name from seeding keuvalt
  admin_projectType: "all" # Azure Devops related: Set "all" from v 1.23 Earlier versions [esml,genai-1,all] to fetch subnets from Bicep deployment.
  project_number_000: "001" # Project number (3 digits in a string) <000> Example "001"
  tag_costcenter: "1234"
  tagsProject: '{"CostCenter":"$(tag_costcenter)","Description":"RAG Chat 1","AIF-Branch":"$(tag_repository_branch)/project$(project_number_000)","AIF-Scaleset":"$(admin_aifactorySuffixRG)","AIF-Environment":"$(dev_test_prod)","AIF-Project Owners":"$(technical_admins_email)","AIFactory project":"$(project_number_000)","AIF-Networking":"$(allowPublicAccessWhenBehindVnet),$(enablePublicGenAIAccess),$(enablePublicAccessWithPerimeter)","AIF-enableAIFactoryCreatedDefaultProjectForAIFv2":"$(enableAIFactoryCreatedDefaultProjectForAIFv2)","AIF-disableAgentNetworkInjection":"$(disableAgentNetworkInjection)","AIF-byoASEv3":"$(byoASEv3)","AIF-BYO_subnets":"$(BYO_subnets)"}'
  project_IP_whitelist: "" # IP (IPv4) adresses in a commas separated list, without space, to whitelist to acccess UI in Azure. "10.123.456.10,124.56.78.0/24"
  
  # Container registry
  acr_IP_whitelist: "" # Selected networks approved IPs
  acr_adminUserEnabled: "false" # true, enable admin user. false, disable admin user (more secure)
  acr_dedicated: "true" # Premium only
  acr_SKU: "Premium" # Premium is mandatory, to enable private endpoints, or support CMK (Customer managed encryption key)

  technical_admins_ad_object_id: "TODO_EntraID_ObjectID" # TODO_EntraID_ObjectID commaseparated list, or just 1 ObjectID
  technical_admins_email: "TODO_email_or_securitygroup_name" # email or name of AD group
  serviceSettingDeployProjectVM: "false" # VM Project resource group, to use with BASTION

  # ============================================================================
  # MANDATORY (PRE SETUP of a PROJECT): AI Factory salt from COMMON RG
  # ============================================================================
  # Description: aifactory_salt:""(default) [5 chars] 
  # What: 
  #   A deteministic unique value unique for the AIFactory environment. Same for all projects.
  # How to find it: 
  #   Update with values from AI Factory COMMON Resource group.
  #   The aifactory_salt can be read from the AI Factory common resource group in names of services such as Azure Datafactory
  #   Example: the 'a4c2b'in "adf-cmn-weu-dev-a4c2b-001" and in Container registry, private endpoints: "pend-kv-cmndev-a4c2b-001-to-vnt-esmlcmn"
  # Usage: aifactory_salt will be used in Project resource groups 'abcde' for resources such as Managed Identity  'mi-aca-prj001-sdc-dev-abcde19-2858-4a-001'
  # ============================================================================
  aifactory_salt: "" # 5 characters.  A deteministic unique value, from COMMON RG

  # === Complete mode vs Incremental mode ===
  enableDeleteForDisabledResources: "false" # true, if a service is set to "false", enableAISearch: "false" , it will be deleted if exists. false, if a service is set to "false", it will be left as is if exists. (Complete mode vs Incremental mode)

  # ============================================================================
  # MANDATORY:Services to be added to deployment. CreateIfNotExists logic
  # ============================================================================
  # ============================================================================
  # Example 01 Demo Scenario Standalone: AI Layer (RAG: AI foundry, AI Search)
  # - Services: enableAIFoundryHub, enableAISearch, serviceSettingDeployFunction, serviceSettingDeployContainerApps, serviceSettingDeployAppInsightsDashboard, serviceSettingDeployCosmosDB
  # - Networking (IPwhitelist UX access + private endpoints service-service):   enablePublicGenAIAccess, allowPublicAccessWhenBehindVnet
  # Example 02 Demo Scenario Standalone: DB layer - AI layer - App layer
  # - Services: enableAIFoundryHub, enableAISearch, serviceSettingDeployFunction, serviceSettingDeployContainerApps, serviceSettingDeployAppInsightsDashboard, serviceSettingDeployCosmosDB
  # - Networking (IPwhitelist UX access + private endpoints service-service):   enablePublicGenAIAccess, allowPublicAccessWhenBehindVnet
  # ============================================================================
  
  # === Defender for Cloud: Defender for AI ===
  enableDefenderforAISubLevel: "false"
  enableDefenderforAIResourceLevel: "false"
  # === CMK - Customer Managed Key for encryption at rest, for all services that supports CMK ===
  cmk: "false" # Customer Managed Key encryption for Keyvault, Storage accounts, etc.  true, enable CMK. false, use platform managed keys.
  cmkKeyName: "aifactory-cmk-key" # Name of the Key in Keyvault to be used for CMK encryption
  cmkKeyVersion: "" # Version of the Key in Keyvault (GUID format). Leave empty to automatically use the LATEST version from Key Vault.
  # === Keyvault RBAC ===
  updateKeyvaultRbac: "false" # true, enables you to update RBAC properties running the pipeline twice. false means "CreateIfNotExists"  
  
  # === Deprecated-START: DO NOT USE. HAVE false on all 3. AI Foundry 2023-2025 Do not use from 2026-01 ===
  enableAIServices: "false" # Standalone AI Services acount with Azure OpenAI endpoint, and endpoint to other models in AI Foundry model catalogue
  enableAIFoundryHub: "false" # AI Foundry Hub service, with default project. Requires: enableAIServices: "true" 
  addAIFoundryHub: "false"  # Add new AI Foundry Hub with project, with a new random name (Solution, if deletion, and Enterprise application is not deleted as it should)
  # === Deprecated-END: ===

  # === AI foundry 2025 ===
  enableAIFoundry: "true" # AI Foundry with default project. Enterprise grade implemenetation (private networking, BYOvNet, exising infra). GA.
  updateAIFoundry: "false" # true, enables you to update AI Foundry properties and its RBAC, running the pipeline twice. false means "CreateIfNotExists"
  addAIFoundry: "false" # Add new AI foundry with project, with a new random name (can be used for debugging, or running pipeline twice directly, not wating for deletion)
  enableAFoundryCaphost: "true" # Ensures Agents metadata, and history/threads is saved in your subscription and network, using CosmosDB, Storage, AI Search
  foundryDeploymentType: "1" # "1" = AI Factory based on PG, "2" = AI Factory based on AVM, "3" = Both. Where 1 is tested, and if fails, it uses 2
  enableAIFactoryCreatedDefaultProjectForAIFv2: "true" # true, only connections is created to AIFactory created services. false, Azure will create a default project, with additional CosmosDB, Storage Account, AI Search, and connections
  disableAgentNetworkInjection: "false" # If false, NB! requires your Container apps subnet (snt-prj001-aca) needs to be in either 172.16.0.0/12 or 192.168.0.0/16 (class B or C).
  # NetworkInjection -> Known agent functional limitations, if false: Azure Blob Storage: using Azure Blob Storage files with the File Search tool isn't supported.
  # NetworkInjection -> Read more about Agent Network Injection, and known limitations: https://learn.microsoft.com/en-us/azure/ai-foundry/agents/how-to/virtual-networks?WT.mc_id=Portal-Microsoft_Azure_ProjectOxford

  # === Data & Machine Learning ===
  enableDatafactory: "false" # Datafactory
  enableDatafactoryCommon: "false" # Datafactory in common resource group
  enableAzureMachineLearning: "false" # Azure Machine Learning v2 (TODO Databricks, EventHubs, LA)
  addAzureMachineLearning: "false"
  # === AKS for Azure ML ===
  enableAksForAzureML: "true" # AKS for Azure ML compute
  aksOutboundType: "loadBalancer" # loadBalancer, userDefinedRouting
  aksPrivateDNSZone: "system" # "none", "system" or resource ID
  aksAzureFirewallPrivateIp: "" # Only needed if aksOutboundType is userDefinedRouting. Provide an IP from the subnet range of the subnet used for Azure Firewall.

  enableDatabricks: "false"
  # === Cognitive Services ===
  enableAISearch: "true"
  addAISearch: "true" # true, add new AI Search service with new random name. false, CreateIfNotExists
  enableAISearchSharedPrivateLink: "true" # true, will create a shared private endpoint link in common vNet. false, private endpoint in project vNet
  # Note: Basic tier and higher: Shared private links are supported from Basic tier, BUT for indexers with skillsets (e.g., AI enrichment or embedding skills), the minimum tier is Standard 1 (S1)

  enableAzureOpenAI: "false"
  enableAzureAIVision: "false"
  enableAzureSpeech: "false"
  enableAIDocIntelligence: "false"
  enableBing: "false"
  enableBingCustomSearch: "false"
  bingCustomSearchSku: "G2" # ['G2'] G2 is custom search with grounding
  enableContentSafety: "false"
  # === Databases ===
  enableCosmosDB: "false" # true, if creating an own Capability host (enableAFoundryCaphost; "true"), then it is needed for AI Foundry V2 project, agents.
  cosmosKind: "GlobalDocumentDB" # "MongoDB", "GlobalDocumentDB"
  enablePostgreSQL: "false"
  postGresAdminEmails: "email_adress_only" # pass a commaseparated list of email addresses. or a single email address
  enableRedisCache: "false"
  enableSQLDatabase: "false"
  # === Azure Function ===
  enableFunction: "false"
  functionRuntime: "dotnet"
  functionVersion: "v7.0"
  # === Azure Webapp ===
  enableWebApp: "false"
  webAppRuntime: "python"
  webAppRuntimeVersion: "3.11"
  aseSku: "IsolatedV2"
  aseSkuCode: "I1v2"
  aseSkuWorkers: 1
  # === Container Apps ===
  enableContainerApps: "false"
  enableAppInsightsDashboard: "false"
  # aca_a_registry_image: "containerapps-default:latest"
  aca_w_registry_image: "mcr.microsoft.com/azuredocs/containerapps-helloworld:latest"
  # === Integration ===
  enableLogicApps: "false"
  enableEventHubs: "false"
  enableBotService: "true" # === AI: Bot Service - for Microsoft Foundry ===
  foundryApiManagementResourceId: "" # === AI: API AI Gateway - for Microsoft Foundry === Optional, provide an existing API Management resource ID to integrate with Microsoft Foundry V22

  # ============================================================================
  # MANDATORY (POST SETUP of a PROJECT): runNetworkingVar
  # ============================================================================
  # Description: runNetworkingVar:"true"(default) 
  #  Keep true when creating a new project or update. Set "false" to UPDATE or ADD services without running the networking module, to optimize deployment time, and avoid touching the network, when not needed.
  # ============================================================================
  runNetworkingVar: "true" # true, when creating a new project. Keep true, since create if not exists. Set to false, to optimize updates on project

## ============================================================================
## END - FOREACH PER PROJECT (MANDATORY)
## ============================================================================
  
  # ============================================================================
  # OPTIONAL: ENTRA ID SECURITY GROUPS - Object ID to PERSONAS
  # Personas 001-010 are reserved for ESML, 011-020 for GenAI-1, 021-030 for GenAI-2
  # Personas 080-090 for CoreTeam. 100-110 for Service Principals.
  # ============================================================================
  
  # EntraID group names
  groups_project_members_esml: "<aif001sdc_prj001_team_lead_p001>,<aif001sdc_prj001_team_member_ds_p002>,<aif001sdc_prj001_team_member_fend_p003>" #[GH-Secret] 3 groups of users. All except p001 group can be empty groups. ObjectID for Entra ID security groups in a commas separated list, without space
  groups_project_members_genai_1: "<aif001sdc_prj002_team_lead_p011>,<aif001sdc_prj002_genai_team_member_aifoundry_p012>,<aif002sdc_prj001_genai_team_member_agentic_p013>,<aif001sdc_prj001_genai_team_member_dataops_p014>,<aif001sdc_prj001_team_member_fend_p015>" #[GH-Secret] 5 groups. All except p011 can be empty groups. ObjectID for Entra ID security groups in a commas separated list, without space
  groups_coreteam_members: "<aif001sdc_coreteam_admin_p080>,<aif001sdc_coreteam_dataops_p081>,<aif001sdc_coreteam_dataops_fabric_p082>" #[GH-Secret] 3 groups. ll except p080 group can be empty groups. Group ObjectID ObjectID for Entra ID security  in a commas separated list, without space
  # Persona names
  personas_project_esml: "p001_esml_team_lead,p002_esml_team_member_datascientist,p003_esml_team_member_front_end,p101_esml_team_process_ops" # 4 Personas where first 3 contains users. The 4th is of type Service Principal. 3 are mapped to groups_project_members_esml & PROJECT_TYPE=esml
  personas_project_genai_1: "p011_genai_team_lead,p012_genai_team_member_aifoundry,p013_genai_team_member_agentic,p014_genai_team_member_dataops,p015_genai_team_member_frontend,p102_esml_team_process_ops" # 6 Personas where 5 contain users. The 6th is an SP. mapped to groups_project_members_genai_1 & PROJECT_TYPE=genai-1
  personas_core_team: "p080_coreteam_it_admin,coreteam_dataops,p081_coreteam_dataops_fabric, p103_coreteam_team_process_ops" # 4 Personas, whereof first 3 contains useres. The 4th is a service principal. These personas are mapped to group_coreteam_members
  # ============================================================================
  # OPTIONAL: ESML: Azure ML Compute & Performance
  # ============================================================================
  admin_aks_gpu_sku_dev_override: "Standard_B4ms"
  admin_aks_gpu_sku_test_prod_override: "Standard_DS13-2_v2"
  admin_aks_nodes_dev_override: 1
  admin_aks_nodes_testProd_override: 3
  admin_aks_version_override: "1.33.2" # AKS version. SDC: "1.30.3" | EUS: "1.30.3"
  admin_aml_cluster_maxNodes_dev_override: 3
  admin_aml_cluster_maxNodes_testProd_override: 5
  admin_aml_cluster_sku_dev_override: "Standard_DS3_v2"
  admin_aml_cluster_sku_testProd_override: "Standard_D13_v2"
  admin_aml_computeInstance_dev_sku_override: "Standard_DS11_v2" 
  admin_aml_computeInstance_testProd_sku_override: "Standard_ND96amsr_A100_v4"
  # ============================================================================
  # OPTIONAL: GENAI: Default Models to start with.
  # ============================================================================
  deployModel_gpt_X: "false"
  modelGPTXName: "gpt-5-mini"
  modelGPTXVersion: ""
  modelGPTXSku: "DataZoneStandard" # ['Standard','DataZoneStandard','GlobalStandard']
  modelGPTXCapacity: 30 # TPM:Tokens per Minute Rate Limit in K=1000) 30 meaning 30K

  deployModel_text_embedding_ada_002: "false"
  deployModel_text_embedding_3_large: "true"
  deployModel_text_embedding_3_small: "false"
  default_embedding_capacity: 25

  deployModel_gpt_4o_mini: "false"
  default_gpt_4o_mini_version: "2024-07-18" # Note: This model with version '2024-07-18' does not support Bing search grounding in Agents.

  deployModel_gpt_4o: "true"
  default_gpt_4o_version: "2024-11-20" # "2024-08-06", "2024-11-20"

  default_gpt_capacity: 40 # TPM:Tokens per Minute Rate Limit in K=1000) 30 meaning 30K
  default_model_sku: "Standard"  #  ['Standard','DataZoneStandard','GlobalStandard']
  # ============================================================================
  # OPTIONAL: Change if you want to create new resources. Keeps old.
  # ============================================================================
  admin_commonResourceSuffix: "-001" # Only if you want to reprovision new services within same resource group, esml-common. (and don't want to delete the old ones)
  admin_prjResourceSuffix: "-001" # Only if you want to reprovision new services within same resource group, project-specific (and don't want to delete the old ones)

  # ============================================================================
  # OPTIONAL: Built Agent: Azure Devops, or Github Actions Runners
  # ============================================================================
  disable_whitelisting_for_build_agents: "false" # true, disable whitelisting of Azure Devops pipeline task/GHA, IPs in Keyvault.

  # ============================================================================
  # OPTIONAL: BYO Overrides: Override AI Factory vanilla - BYOvNet, BYOsnet, BYOAse
  # ============================================================================
  # DOCS_byovnet_example: "esml-common-eus2-<network_env>001-rg" or 'esml-common-eus2-dev-001-rg' if 'network_env_dev' is an empty string
  vnetResourceGroup_param: ""
  vnetNameFull_param: ""
  commonResourceGroup_param: ""
  datalakeName_param: ""
  kvNameFromCOMMON_param: ""
  useCommonACR_override: "true"
  # ============================================================================
  # OPTIONAL(CHANGE ONCE) - Bring your own vNet/subnets (BYO_subnets=true) 
  # Default: leave false and empty strings to disable, and pipeline will create new subnets based on the CIDR
  # ============================================================================
  BYO_subnets: "false" # false, the default subnets created by the pipeline. true then Azure Devops pipeline will not run Networking step - your subnets, with names as below is used.
  network_env_dev: "dev-" # used by both BYO_subnets, and vnetResourceGroup_param
  network_env_stage: "tst2-"
  network_env_prod: "prd-"
  # DOCS_byosnet_common_example: "acme-<network_env>common-eus2-subnet"
  subnetCommon: "snet-dev-esml-cmn-001" # Example: with no replacement of <network_env>
  subnetCommonScoring: "snet-<network_env>esml-cmn-001-scoring" # Example: Replacement of <network_env> that will get value "dev-" from network_env_dev
  subnetCommonPowerbiGw: "snet-esml-cmn-pbi-001"
  # DOCS_byosnet_project_example: "acme-<network_env>prj<xxx>-genai-eus2-subnet"
  subnetProjGenAI: "snt-dev-prj<xxx>-genai" # Example, with replacement of <xxx> but not with <network_env>
  subnetProjAKS: "snt-prj<xxx>-aks"
  subnetProjAKS2: "snt-<network_env>prj<xxx>-aks2" # Example, with replacement of <xxx> and <network_env> that will get value "dev-" from network_env_dev
  subnetProjACA: "snt-prj<xxx>-aca"
  subnetProjACA2: "snt-prj<xxx>-aca2"
  subnetProjDatabricksPublic: "snt-prj001-dbxpub" # Example, no replacement of <xxx>
  subnetProjDatabricksPrivate: "snt-prj<xxx>-dbxpriv" # Example, with replacement of <xxx>
  byoASEv3: "false"
  byoAseFullResourceId: "/subscriptions/...yourASEnameS2"
  byoAseAppServicePlanResourceId: ""

  # ============================================================================
  # GenAI-DEBUG - Dont touch: infra AIFactory core team only. 
  # Purpose: To DISABLE full sections (for efficiency, if re-running pipeline)
  # ============================================================================
  debug_disable_validation_tasks: "false" # OPTIMIZE: Disable validation tasks like subnet validation, submodule check, DNS zones check, etc.
  debug_disable_05_build_acr_image: "false" # Cannot be disabled if ContainerApps is enabled.It needs ACR  networking with whitelist to Azure Deveops/GHA IPs, that this closes in the end.
  debug_disable_61_foundation: "false" # Resource group, UAMI's, VM
  debug_disable_62_core_infrastructure: "false" # Application Insights, Keyvault, Storage, ACR
  debug_disable_63_cognitive_services: "false" # AI Search, OpenAI Standalone, Vision standalone, Speech standalone, ...
  debug_disable_64_databases: "false" # CosmosDB, SQL Database, ...
  debug_disable_65_compute_services: "false" # ContainerApps, WebApp, FunctionApp
  debug_disable_66_ai_platform: "false" # AI Foundry Hub (V1) with default project, and connections to AISearch, Storage, ...
  debug_disable_67_data_ml_platform: "false" # Azure Machine Learning, Datafactory, Databricks
  debug_disable_68_integration: "false" # Logic Apps, Eventhubs
  debug_disable_69_aifoundry_2025: "false" # AI Foundry V2, including RBAC, and default project (CosmosDB, Storage) 
  debug_disable_100_rbac_security: "false" # RBAC for 61-99
  debug_disable_10_aifactory_dashboards: "true" # AI Factory Dashboards
  # ============================================================================
  # DEBUG SETTINGS - Error Cleanup Tasks
  # Note: You still need to PURGE AIServices and AI Foundry project (2025) due to soft delete
  # ============================================================================
  debugEnableCleaning: "false" # Enable error cleanup tasks (71-73) that delete resources on deployment failures. Set to "true" to enable cleanup tasks.
  # ============================================================================
  # RETRY SETTINGS - Job Retry Configuration
  # ============================================================================
  enableRetries: "false" # Enable automatic job retries on failure. Set to "true" to enable retry logic for GenAI services deployment.
  retryMinutes: "5" # Number of minutes to wait between 1st and 2nd attempts. Default is 5 minutes.
  retryMinutesExtended: "15" # Number of minutes to wait between 2nd and 3rd attempts. Default is 15 minutes.
  maxRetryAttempts: "2" # Maximum number of total attempts (1 original + 2 retries = 3 total attempts). Valid values: 1, 2, or 3